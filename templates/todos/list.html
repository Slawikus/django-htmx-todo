{% extends 'base.html' %}
{% load partials %}

{% block content %}
  <div class="d-flex flex-column align-items-center">
    <h1 class="fs-3 fw-bold my-3">{{ user.username }}'s Tasks</h1>
    <div class="w-100" style="max-width: 40rem;">
      <ul class="list-group shadow">
        {% for todo in todos %}
          {% partialdef todo-item-partial inline %}
            <li class="list-group-item d-flex align-items-center">
              <label>
                <input type="checkbox"
                   hx-put="{% url 'todos:toggle-completion' todo.id %}"
                   hx-target="closest li"
                   hx-swap="outerHTML"
                   {% if todo.is_completed %}checked{% endif %}
                   class="form-check-input me-3"
                />
              </label>
              <span class="flex-grow-1 fs-5 {% if todo.is_completed %}text-muted{% endif %}">{{ todo.title }}</span>
            </li>
          {% endpartialdef %}
        {% endfor %}
      </ul>
    </div>
  </div>
{% endblock %}
